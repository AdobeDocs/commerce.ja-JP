---
title: 境界と制限
description: ビジネスのニーズを確実に満たすための  [!DNL Product Recommendations]  の境界と制限について説明します。
role: Admin, Developer
source-git-commit: 66830c9d950a27269aca1bda0dcc7d0d86f05647
workflow-type: tm+mt
source-wordcount: '848'
ht-degree: 0%

---

# 境界と制限

次の境界と制限をレビューして、お客様のビジネスニーズを満た [!DNL Product Recommendations] ていることを確認します。 これらの制約を理解することで、実装の計画、フィルターの設定および一般的な問題の回避に役立ちます。

## 一般

- **製品タイプ** - サポートされる製品タイプには、_シンプル_、_設定可能_、_仮想_、_ダウンロード可能_、_ギフトカード_ などがあります。 _バンドル_、_グループ化_、カスタム製品タイプはサポートされていません。 カタログにサポートされていない製品タイプが多数含まれている場合は、[&#x200B; 準備スコア &#x200B;](create.md#readiness-indicators) が低くなることが予想されます。 [&#x200B; 製品タイプでフィルタリング &#x200B;](filters.md#type) を参照してください。
- **スペースを含む SKU** - スペースを含む SKU は、レコメンデーションの関連性を低下させる可能性があるので、可能であれば避ける必要があります。
- **買い物かごページ** – 店舗が [&#x200B; 買い物かごに商品を追加した直後に買い物かごページを表示 &#x200B;](https://experienceleague.adobe.com/en/docs/commerce-admin/stores-sales/point-of-purchase/cart/cart-configuration) するように設定されている場合、製品レコメンデーションは買い物かごページでサポートされません。 [&#x200B; レコメンデーションの作成 &#x200B;](create.md) を参照してください。
- **子製品** – 設定可能な製品の子製品（表示 _個別に表示されない_）は、レコメンデーションユニットには表示されません。 設定可能な（親）商品のみが表示されます。 [&#x200B; 製品のフィルタリング &#x200B;](filters.md#product) を参照してください。
- **無効または非表示の製品** – 個別に無効または表示されていない製品は、レコメンデーションに表示できず、製品フィルターでも選択できません。
- **特別価格** - [&#x200B; 特別価格 &#x200B;](https://experienceleague.adobe.com/en/docs/commerce-admin/catalog/products/pricing/product-price-special) 開始日と終了日は、レコメンデーション単位ではサポートされていません。 特別価格の商品はレコメンデーションに表示されますが、ユニットには特別価格、開始日、終了日は表示されません。 商品ページを開くまで、買い物客には通常の価格（またはカタログや価格情報で提供されるその他の価格データ）が表示されます。

## レコメンデーションユニット

- **ページタイプごとのアクティブなユニット** - ページタイプ（ホーム、カテゴリ、製品詳細、買い物かご、確認）ごとに最大 50 個のアクティブなレコメンデーションユニットを作成できます。 制限に達すると、作成フローでページタイプがグレー表示されます。
- **ユニットあたりの製品数** - レコメンデーションユニットに表示される製品数は、5 （デフォルト）から最大 20 に設定できます。
- **ドラフト状態** - レコメンデーションをドラフトとして保存した後は、そのユニットのページタイプやレコメンデーションタイプを変更できません。 その他の設定は、アクティブ化する前に編集できます。

## フィルターと条件

- **動的条件** – 動的条件（「現在の製品と同じカテゴリの製品」や「相対的な価格範囲」など）は、ホームページを除くすべてのページタイプで使用できます。 また、ページビルダーでレコメンデーションを配置したページでも使用できません。 [&#x200B; 条件 &#x200B;](filters.md#conditions) を参照してください。

## プレビュー環境と非実稼動環境

- **最近表示されたプレビュー** - _最近表示された_ レコメンデーションタイプはブラウザー履歴に基づいており、管理コンテキストでは使用できないので、管理者でプレビューできません。 [&#x200B; レコメンデーションをプレビュー &#x200B;](create.md#preview) を参照してください。
- **別のデータ領域からのレコメンデーション** – 非実稼動ストアフロントで [&#x200B; 別の SaaS データ領域からレコメンデーションを取得 &#x200B;](settings.md) （実稼動など）する場合、レコメンデーションを表示できますが、クリックスルーして製品ページに移動することはできません。 これは、プレビューとテスト用に設計されています。
- **GraphQLと代替データ領域** - [GraphQL](https://developer.adobe.com/commerce/webapi/graphql/schema/product-recommendations/queries/recommendations/) から商品レコメンデーションを使用する場合、（別のデータ領域からレコメンデーションを取得するために使用される） `alternateEnvironmentId` パラメーターを使用できません。 非実稼動環境で Recommendations ソースを切り替えるには、REST API または管理設定を使用します。

## API と設定

- **API キー（4.x 以降）** - サンドボックス環境と実稼動環境の両方に公開および秘密 API キーを指定する必要があります。 API キーの両方のペアを指定しない場合は、管理者の Product Recommendations 機能にアクセスできません。 ストアフロントでのデータ収集と既存のレコメンデーションは引き続き機能します。 [&#x200B; インストールと設定 &#x200B;](install-configure.md) を参照してください。

## cookie の制限

- [cookie 制限モード &#x200B;](setting-cookie.md) が有効になっていて、買い物客が cookie を受け入れていない場合、行動データに依存する特定のレコメンデーションタイプが表示されなかったり、結果が限られたりする場合があります。
- Cookie の制限が有効な場合、行動データに依存しないレコメンデーションタイプ（例：_最も多く閲覧された_、_視覚的類似性_）は引き続き機能します。
- Cookie の制限が有効な場合、買い物客が同意するまで、Product Recommendations は行動データを Cookie またはローカルストレージに収集または保存しません。

## ページビルダー

- **指標とストアビュー** - ページビルダーのレコメンデーション単位の指標は、製品レコメンデーションワークスペースのデフォルトのストアビューにのみ表示されます。 デフォルト以外のストア表示でページビルダーのレコメンデーション指標を表示するには、そのストア表示でページビルダーのレコメンデーション単位を開いて [&#x200B; 編集 &#x200B;](edit.md) してから保存する必要があります。これにより、そのストア表示で指標が表示されます。 [&#x200B; ページビルダーの統合 &#x200B;](page-builder.md) を参照してください。

## B2B

- Product Recommendations は、[&#x200B; カテゴリ権限 &#x200B;](https://experienceleague.adobe.com/en/docs/commerce-admin/catalog/categories/category-permissions.html)、[&#x200B; 共有カタログ &#x200B;](https://experienceleague.adobe.com/en/docs/commerce-admin/b2b/shared-catalogs/catalog-shared.html) および顧客グループ固有の価格に従います。 買い物客には、セグメントとカタログの割り当てに応じてアクセスできる製品のレコメンデーションのみが表示されます。 [&#x200B; オンボーディング &#x200B;](onboarding.md) を参照してください。

## データと準備

- **行動データ** – 多くのレコメンデーションタイプには、十分なストアフロント行動データ（表示、買い物かごへの追加、購入）が必要です。 新しいストアや低トラフィックのストアでは、適切なデータが収集されるまで、これらのタイプに対する結果が制限されるか結果が得られない場合があります。 管理者で [&#x200B; 準備状況インジケーター &#x200B;](create.md#readiness-indicators) を監視します。
- **実稼動データを使用しないステージング** – 行動データのない実稼動以外の環境で、実稼動から取得せずにテストできるレコメンデーションタイプは、_以下のように_ カタログベースの類似性のみを使用します。 [&#x200B; ステージング環境 &#x200B;](staging-environment.md) を参照してください。

## トラブルシューティング

カタログの同期、推奨事項が表示されない、その他のよくある問題に関するヘルプについては、[Commerce ナレッジベースを検索するか &#x200B;](https://experienceleague.adobe.com/en/docs/commerce-knowledge-base/kb/overview) サポート [&#x200B; にお問い合わせくだ &#x200B;](https://experienceleague.adobe.com/en/docs/commerce-knowledge-base/kb/help-center-guide/magento-help-center-user-guide) い。
