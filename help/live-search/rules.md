---
title: マーチャンダイジングを検索
description: マーチャンダイジングルール [!DNL Live Search]、ロジックとアクションを組み合わせて、ショッピングエクスペリエンスを形成します。
source-git-commit: cb69e11cd54a3ca1ab66543c4f28526a3cf1f9e1
workflow-type: tm+mt
source-wordcount: '681'
ht-degree: 0%

---

# マーチャンダイジングを検索

検索マーチャンダイジングとは、ロジックとアクションを組み合わせて、ストアでの買い物客の検索エクスペリエンスを形成する一連のルールを指します。 マーチャンダイジングルールを使用して、製品をブースト、埋め込み、ピン留め、非表示にして、検索結果をリアルタイムで調整して、ビジネス目標をサポートできます。

各ルールには、次の 3 つの主なコンポーネントがあります。

* 条件 – アクションをトリガーにする条件。
* イベント – 条件が満たされた場合に実行されるアクション。
* 詳細 – ルールの名前、オプションの時間枠と説明。

複数の条件とアクションを組み合わせ、1 つのルールを期間にわたってアクティブになるようにスケジュールできます。 検索語句が設定されていない場合でも適用されるデフォルトのルールを設定することもできます。

## 要件

単純な検索ルールには 1 つの条件と 1 つのイベントを含めることができますが、複雑なルールには、最大 10 個の条件を含めて、最大 25 個のイベントをトリガーにすることができます。
ルールには以下を含めることができます。

* 最大 10 個の条件
* 最大 25 イベント

クエリテキストには、次の内容を含めることができます。

* 英数字（文字および数字）
* 大文字または小文字。 大文字と小文字の区別は無視されます。

## 論理演算子

論理演算子 `AND` と `OR` は 2 つの条件を結合し、異なる結果を返します。 複数の条件があるルールで使用される論理演算子はすべて同じです。 `AND` と `OR` の両方を同じルールで使用することはできません。

### 演算子に一致

一致演算子 `All` および `Any` は、ルール内の複数の条件の結合に使用される論理演算子を決定します。既存の演算子を変更する場合に使用できます。

* `All` - `AND` 論理演算子を使用して複数の条件を結合します。 `All` Match 演算子を使用するルールには、`Search query is` 条件を 1 つだけ指定できます。
* `Any` - `OR` 論理演算子を使用して複数の条件を結合します。

複雑なルールを作成する場合、実現する結果を返すために必要な条件、関連イベント、製品名または SKU を説明するために、インデントを使用してルールを記述すると役立ちます。 次に、ルールを作成して結果をテストします。

## デフォルトルール

検索語句が指定されていない場合や、他の検索ルールを適用できない場合に適用されるデフォルトのルールを設定できます。 デフォルトルールを「最も購入済み」に設定すると、より具体的な検索語句でスーパーセンドされない限り、すべてのクエリがデフォルトでそのランキングタイプになります。 デフォルトのルールに検索語句を設定することはできません。

## 複数のルールの優先順位

検索語句には、一度に 1 つの検索ルールのみが適用されます。
1 つの検索語句に複数のルールが適用可能な場合、これらのルールがすべて適用されます。 2 つのルール（SKU1 をブーストす `rule 1` が同じ SKU は非表示に `rule 2` る）が競合する場合は、最近適用されたルール（`rule 2`）が優先されます。

* ルールは、「最終変更日」タイムスタンプで並べ替えられます。 最も新しく変更されたルールが最初に適用され、その後の古いルールがタイムスタンプ順に適用されます。
* `query is` の条件は、他の条件よりも優先されます。 新しいルールに `query contains` の条件が含まれ、古いルールに `query is` の条件が含まれている場合は、`query is` のルールが適用されます。

### ストアフロントリクエスト

`query is` 条件を含むアクティブなルールが検索語句と一致する場合は、そのルールが適用されます。 `query is` 条件を持つ一致するルールが複数ある場合は、最近更新されたアクティブなルールが適用されます。
それ以外の場合は、最近更新されたアクティブなルールが適用されます。

### リクエストをプレビュー

管理者で行われたリクエストの動作は少し異なります。 管理者でプレビューすると、有効期限が切れたルールやスケジュール済みのルールを含め、すべてのルールが適用されます。

* プレビュー中のルールに `query is` の条件がある場合、その条件が適用されます。
* プレビュー中のルールに `query is` の条件がなく、`query is` の条件を持つ後続のアクティブな一致するルールが見つかった場合、`query is` のルールが適用されます。
* プレビュー中のルールに `query is` 条件がなく、`query is` 条件を持つ他のルールが見つからない場合、プレビュー中のルールが適用されます。

## カテゴリマーチャンダイジングとカテゴリ製品の割り当て

カテゴリ [!DNL Live Search] フィルタリングできます。 詳しくは、[ カテゴリマーチャンダイジング ](category-merch.md) を参照してください。
ただし、Adobe Commerceでは、[ カテゴリの商品の割り当て ](https://experienceleague.adobe.com/docs/commerce-admin/catalog/categories/products-in-category/categories-product-assignments.html) を使用してバーチャルカテゴリを作成できます。 この種類のカテゴリは実行時に作成され、カテゴリ データベースには存在しません。 したがって、[!DNL Live Search] のカテゴリ タイプを読み取ったり使用したりすることはできません。
