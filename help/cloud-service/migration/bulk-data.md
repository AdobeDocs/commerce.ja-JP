---
title: 一括データ移行ツール
description: 一括データ移行ツールを使用して、クラウドインスタンス上の既存のAdobe Commerceから  [!DNL Adobe Commerce as a Cloud Service] にデータを移行する方法について説明します。
badgeSaas: label="SaaS のみ" type="Positive" url="https://experienceleague.adobe.com/en/docs/commerce/user-guides/product-solutions" tooltip="Adobe Commerce as a Cloud ServiceおよびAdobe Commerce Optimizer プロジェクトにのみ適用されます（Adobeで管理される SaaS インフラストラクチャ）。"
role: Developer
exl-id: 81522de9-df54-4651-b8ed-58956376af86
source-git-commit: 5dd290a4e10bdbd1f6c96b67ab6c9ba1598705dc
workflow-type: tm+mt
source-wordcount: '709'
ht-degree: 0%

---

# 一括データ移行ツール

一括データ移行ツールは、PaaS 環境から SaaS 環境への安全で効率的なデータ移行を可能にする分散アーキテクチャに従います。 このツールは、ソリューション実装者がクラウドインスタンス（PaaS）上の既存のAdobe Commerceから [!DNL Adobe Commerce as a Cloud Service] （SaaS）にデータを移行するように設計されています。 移行プロセスについて詳しくは、[&#x200B; 移行の概要 &#x200B;](./overview.md) を参照してください。

>[!NOTE]
>
>一括データ移行ツールは、ファーストパーティのコアコマースデータの移行のみをサポートしています。 カスタムのデータ移行は現在サポートされていません。

次の画像は、一括データ移行ツールを使用する際のアーキテクチャと主要なコンポーネントの詳細を示しています。

![&#x200B; 一括データ移行ツールのアーキテクチャ &#x200B;](../assets/bulk-data-diagram.png)

## 移行ワークフロー

一括データ移行ワークフローは、次の手順で構成されます。

1. 移行用の新しい環境の設定
1. 古いシステムからデータをコピーします。
1. データを新しいシステムに移動します。
1. 新しいシステムで製品カタログを使用できるようにします。
1. データが正しく移行されていることを確認します。

以下の節では、これらの手順を詳しく説明します。

## 一括データ移行ツールへのアクセス

一括データ移行ツールは次のように使用できます。

- **2025 年第 4 四半期** （未対応） – 一括データ移行ツールの初回リリース後は、サポートチケットを送信することでツールにアクセスできるようになります。
- **2025 年第 4 四半期** （未公開） – 一括データ移行ツールの公開リリース後、このページからアクセスできるようになります。

## ターゲット環境の作成

ソリューション実装担当者（SI）が、移行用のターゲット環境を作成します。 この環境は、ソースインスタンスから移行されたデータを保存するために使用されます。

まず、[&#x200B; 新しい  [!DNL Adobe Commerce as a Cloud Service]  （SaaS）インスタンスを作成 &#x200B;](../getting-started.md#create-an-instance) します。

### 抽出ツールの設定

抽出ツールは、ソースインスタンスからデータを抽出するために使用します。

1. Adobeから提供されたリンクから抽出ツールをダウンロードします。
1. 抽出ツールで次の環境変数を設定します。
   - 既存の MySQL データベースへの接続の詳細
   - お使いの [!DNL Adobe Commerce as a Cloud Service] インスタンスのターゲットテナント ID
   - 以下を含む IMS 認証情報：
      - クライアント ID
      - クライアント秘密鍵
      - IMS 範囲
      - IMS URL - ベース URL。 例：`https://ims-na1.adobelogin.com/`。
      - IMS 組織 ID

   IMS 範囲およびその他の値については、**Adobe Developer Console** のプロジェクト内の [&#x200B; 資格情報 &#x200B;](https://developer.adobe.com/console/) セクションで OAuth タイプを選択します。 詳しくは、抽出ツールに付属している `.example.env` ファイルを参照してください。

### データを抽出

抽出ツールを実行する前に、ソリューション実装者は、次の方法で PaaS データベースへの SSH トンネルを確立する必要があります。

```bash
magento-cloud tunnel:open
```

次に、抽出ツールを実行します。

1. PaaS データベースに接続し、そのスキーマを分析して、SaaS テナントスキーマの詳細と比較します。
1. PaaS と SaaS の間の共通スキーマ要素に基づいて、抽出および変換計画を生成します。
1. カタログデータ管理サービス（CDMS）を使用してデータを抽出します。

### データの読み込み

Adobeが提供するデータを読み込みツールを実行します。 このツールは以下を行います。

1. 移行アカウントを使用して SaaS テナントデータベースに接続します。
1. 読み込みプランを生成します。
1. 計画を実行し、データを SaaS テナントデータベースにバッチで移動します。
1. カタログメディアを処理し、ターゲット環境に転送します。
1. SaaS Redis キャッシュをフラッシュし、テナントのデータベース インデックスを無効にします。

### カタログデータの取り込み

データが読み込まれると、カタログデータは SaaS テナントデータベースからカタログサービスに自動的に送られます。

カタログサービスは、このデータをライブ検索および製品レコメンデーションと共有します。 このプロセスでは、手動の介入は必要ありません。 取り込みが完了すると、すべてのサービスでデータを利用できるようになります。

### データの整合性の検証

移行後、CDMS は以下の自動データ整合性チェックを実行し、移行されたデータの正確性と完全性を確保します。

**API ベースの検証**

検証中、CDMS は、以前に実行したクエリからの REST およびGraphQL API 応答と、ターゲットインスタンスの対応するレコードを比較します。 不一致は、移行ステータスに表示されます。

**データベースレベルの検証**

検証中、CDMS は抽出したレコードの数をカウントし、その数と読み込んだレコードの量を比較します。

**オンデマンド検証（オプション）**

また、すべてのシステムレコードの包括的なトリガーを手動で検証することもできます。

>[!NOTE]
>
>このプロセスはリソースを大量に消費するので、サンドボックス環境でのみ使用してください。

完全な検証には、次のものが含まれます。

- 事前抽出されたすべての REST およびGraphQL API 応答を使用した、API ベースの包括的な検証
- 見つかった不整合の詳細レポート
