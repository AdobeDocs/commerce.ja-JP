---
title: ポリシー
description: ' [!DNL Adobe Commerce Optimizer] でポリシーを作成および管理する方法について説明します。'
recommendations: noCatalog
badgeSaas: label="SaaS のみ" type="Positive" url="https://experienceleague.adobe.com/en/docs/commerce/user-guides/product-solutions" tooltip="Adobe Commerce as a Cloud ServiceおよびAdobe Commerce Optimizer プロジェクトにのみ適用されます（Adobeで管理される SaaS インフラストラクチャ）。"
exl-id: 77f524f6-e283-44d2-9c79-9d40f686a7bf
source-git-commit: 845d93e367c8e2495943afe8c7d5d0a4bde990c2
workflow-type: tm+mt
source-wordcount: '926'
ht-degree: 0%

---

# ポリシー

ポリシーは、カタログビュー内に含まれるデータアクセスフィルターで、各カタログビューに配信されるデータをさらに絞り込みます。 ポリシーを使用すると、適切なコンテンツを適切な宛先に確実に送信できます。 例えば、実店舗、マーケットプレイス、広告パイプライン（Google、Facebook、Instagram）などの POS です。

ポリシーは、ブランド、モデル、部品カテゴリなどの製品属性に基づいており、特定のビジネス要件に合わせてカタログデータを調整するために使用されます。&#x200B;

## フィルター

フィルターは、カタログのセグメント化を実施するポリシー内のメカニズムです。 フィルターを使用すると、企業は、運用ニーズに基づいて特定の製品セットに合わせてストアフロントとカタログビューを調整できます。 製品属性、演算子、値などの条件を使用して、カタログ表示またはストアフロントに含める、または除外する製品を示すルールまたは条件を定義します。

### フィルターのパーツ

フィルターは、次の部分で構成されます。

| 部分 | 説明 | 例 |
|---|---|---|
| **属性** | フィルタリングに使用する製品属性。 | `part_category` |
| **演算子** | 属性に適用される条件。 | `IN`、`EQUALS`、`CONTAINS` |
| **値のソース** | 値が `STATIC` か `TRIGGER` かを指定します。 | `STATIC` [ 詳細情報 ](#value-source-types) |
| **値** | 条件を満たす特定の値。 | `brakes, suspension` |

### 例

属性 `part_category`、`IN` の演算子および値 `brakes, suspension` を持つフィルターにより、値が `part_category` または `brake` の属性 `suspension` を持つ製品のみがポリシーによってフィルタリングされ、表示されるようにします。

### 値のソースタイプ

値ソースには、{STATIC **と** 2}トリガー&#x200B;**の 2 種類があります。**

**値ソース** が **STATIC** のポリシーはユニバーサルポリシーと見なされます。 ユニバーサルポリシーは、web サイト全体のエクスペリエンスを定義します。 つまり、カタログビューは常にそのポリシーを実行します。 つまり、そのポリシーの実行は、ストアフロントでのユーザー操作に基づいたものではありません。

**値のソース** が **トリガー** のポリシーは、排他的ポリシーと呼ばれます。 つまり、API 呼び出しのヘッダーでポリシーが指定されている場合にのみ、カタログビューがそのトリガーを実行します。 ストアフロントでは、買い物客が選択した内容に基づいて情報が表示されます。 例えば、次の画像には、**ブランド** と **モデル** の 2 つのドロップダウンメニューがあります。

![ ストアフロントのトリガー値ソース ](../assets/policy-trigger.png)

**ブランド** および **モデル** は、次のトリガーで定義されます。

- `AC-Policy-Brand`
- `AC-Policy-Model`

買い物客が **ブランド** ドロップダウンをクリックすると、API 呼び出しのヘッダーには `AC-Policy-Brand` が含まれ、`AC-Policy-Brand` ポリシーに固有の製品のみを表示するように設定されています。

## ポリシーを作成

この節では、新しいポリシーを作成します。 ポリシーは **STATIC** または **トリガー** のいずれかです。

### 静的ポリシーの作成

1. 左側のメニューで「**[!UICONTROL Catalog]**」セクションを開き、「**[!UICONTROL Policies]**」をクリックします。

1. **[!UICONTROL Add Policy]** ボタンをクリックします。

   新しいページが開き、ポリシーの詳細を入力できます。&#x200B;

1. ポリシーの名前（例：「Celport Part Categories」）を入力します。

1. **[!UICONTROL Add Filter]** ボタンをクリックします。

   フィルターの詳細を追加するためのダイアログが開きます。

1. フィルターの詳細を追加します。 例：

   1. **属性** - カタログから属性を入力します。 例えば、「part_category」と入力します。 この名前は、カタログの属性の名前と完全に一致する必要があります。
   1. **演算子** - オペレーターを選択します。 例えば、**IN** です。&#x200B;
   1. **値Source** - 「**STATIC**」を選択します。&#x200B;
   1. **値** – 以前に指定した属性定義の値を入力します。 たとえば、「ブレーキ」と入力して、ブレーキ パーツのフィルタを作成します。&#x200B;値は属性名と完全に一致する必要があります。
   1. 値を保存するには、**Enter** キーを押します。

      ポリシーが複数の値でフィルタリングするように設計されている場合は、各値を個別に入力します。

1. フィルターの詳細ダイアログで「**[!UICONTROL Save]**」ボタンをクリックします。&#x200B;

1. 作成したフィルターの横にあるアクションドット（...）をクリックし、「**有効**」を選択します。 ここから、フィルターを **編集**、**無効** または **削除** することもできます。

   **ステータス** 列には、緑色のアイコンと「有効」という単語が表示されます。

1. 「**[!UICONTROL Save]**」ボタンをクリックして、新しいポリシーを保存し&#x200B;す。 ボタンがアクティブでない場合は、「新しいポリシー **の横にある鉛筆アイコンをクリックして、ポリシー名が追加されていることを確認し** す。

1. 新しいポリシーを確認するには、戻る矢印をクリックしてポリシーのリストに戻ります。&#x200B;新しいポリシーがリストに表示されます。

### トリガーポリシーの作成

1. 左側のメニューで「**[!UICONTROL Catalog]**」セクションを開き、「**[!UICONTROL Policies]**」をクリックします。

1. **[!UICONTROL Add Policy]** ボタンをクリックします。

   新しいページが開き、ポリシーの詳細を入力できます。&#x200B;

1. ポリシーの名前（例：「Celport Part Categories」）を入力します。

1. **[!UICONTROL Add Trigger]** ボタンをクリックします。

   **トリガーの詳細** ダイアログが表示されます。

1. **AC-Policy-Brand** のように、トリガーの名前を入力します。

1. **トランスポートの種類** を選択します。 **HTTP_HEADER** は現在、サポートされている唯一のタイプです。

1. 「**[!UICONTROL Save]**」ボタンをクリックして、トリガーを保存します。

1. **[!UICONTROL Add Filter]** ボタンをクリックします。

   フィルターの詳細を追加するためのダイアログが開きます。

1. フィルターの詳細を追加します。 例：

   1. **属性** - カタログから属性を入力します。 例えば、「part_category」と入力します。 この名前は、カタログの属性の名前と完全に一致する必要があります。
   1. **演算子** - オペレーターを選択します。 例えば、**IN** です。&#x200B;
   1. **値Source** - **トリガー** を選択します。&#x200B;
   1. **値** – 以前に作成したトリガー名を入力します（**AC-Policy-Brand**）。

1. フィルターの詳細ダイアログで「**[!UICONTROL Save]**」ボタンをクリックします。&#x200B;

1. 作成したフィルターの横にあるアクションドット（...）をクリックし、「**有効**」を選択します。 ここから、フィルターを **編集**、**無効** または **削除** することもできます。

   **ステータス** 列には、緑色のアイコンと「有効」という単語が表示されます。

1. 「**[!UICONTROL Save]**」ボタンをクリックして、新しいポリシーを保存し&#x200B;す。 ボタンがアクティブでない場合は、「新しいポリシー **の横にある鉛筆アイコンをクリックして、ポリシー名が追加されていることを確認し** す。

1. 新しいポリシーを確認するには、戻る矢印をクリックしてポリシーのリストに戻ります。&#x200B;新しいポリシーがリストに表示されます。

これらの手順に従うと、ポリシーが作成され、製品の表示を制御するためにカタログビューにリンクされる準備が整います。
